---
title: 'DELETE Endpoints'
description: 'Reference for all DELETE endpoints in the Bud Runtime API'
---

## Delete Model

Remove a deployed model from the system.

```http
DELETE /v1/models/{model_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/models/custom-llama-7b \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Response

```json
{
  "id": "custom-llama-7b",
  "object": "model",
  "deleted": true
}
```

### Notes

- Only custom deployed models can be deleted
- System models (like base llama2-7b) cannot be deleted
- Deletion is permanent and cannot be undone
- All associated deployments will be terminated

## Delete Deployment

Remove a specific deployment.

```http
DELETE /v1/deployments/{deployment_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/deployments/dep_12345 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `force` | boolean | Force delete even if deployment has active connections |
| `grace_period` | integer | Seconds to wait before termination (default: 30) |

### Response

```json
{
  "id": "dep_12345",
  "object": "deployment",
  "deleted": true,
  "terminated_at": 1234567890
}
```

## Delete API Key

Revoke an API key.

```http
DELETE /v1/api-keys/{key_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/api-keys/key_12345 \
  -H "Authorization: Bearer YOUR_ADMIN_KEY"
```

### Response

```json
{
  "id": "key_12345",
  "object": "api_key",
  "deleted": true,
  "revoked_at": 1234567890
}
```

### Notes

- Revoked keys are immediately invalidated
- Historical usage data is preserved
- Cannot delete the last admin key

## Delete File

Remove an uploaded file.

```http
DELETE /v1/files/{file_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/files/file-12345 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Response

```json
{
  "id": "file-12345",
  "object": "file",
  "deleted": true
}
```

### Notes

- Files used in active fine-tuning jobs cannot be deleted
- Files in completed jobs can be deleted after 30 days
- Deletion is permanent

## Cancel Fine-tuning Job

Cancel an in-progress fine-tuning job.

```http
DELETE /v1/fine-tuning/jobs/{job_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/fine-tuning/jobs/ftjob-12345 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Response

```json
{
  "id": "ftjob-12345",
  "object": "fine_tuning.job",
  "status": "cancelled",
  "cancelled_at": 1234567890
}
```

### Notes

- Only jobs in `validating_files`, `queued`, or `running` status can be cancelled
- Partial models from cancelled jobs are deleted
- Training costs are prorated based on actual usage

## Delete Batch

Cancel a batch processing job.

```http
DELETE /v1/batches/{batch_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/batches/batch_12345 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Response

```json
{
  "id": "batch_12345",
  "object": "batch",
  "status": "cancelled",
  "cancelled_at": 1234567890,
  "request_counts": {
    "total": 1000,
    "completed": 750,
    "failed": 10,
    "cancelled": 240
  }
}
```

## Delete Webhook

Remove a webhook configuration.

```http
DELETE /v1/webhooks/{webhook_id}
```

### Request

```bash
curl -X DELETE https://api.your-domain.com/v1/webhooks/webhook_12345 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Response

```json
{
  "id": "webhook_12345",
  "object": "webhook",
  "deleted": true
}
```

## Delete Cache

Clear cached model responses (admin only).

```http
DELETE /v1/cache
```

### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `model` | string | Clear cache for specific model |
| `before` | timestamp | Clear entries before this time |
| `pattern` | string | Clear entries matching pattern |

### Request

```bash
curl -X DELETE "https://api.your-domain.com/v1/cache?model=llama2-7b" \
  -H "Authorization: Bearer YOUR_ADMIN_KEY"
```

### Response

```json
{
  "object": "cache_clear",
  "entries_deleted": 15420,
  "space_freed_mb": 2048
}
```

## Bulk Delete Operations

For deleting multiple resources at once.

```http
DELETE /v1/bulk
```

### Request Body

```json
{
  "resources": [
    {
      "type": "deployment",
      "id": "dep_12345"
    },
    {
      "type": "file",
      "id": "file-12345"
    },
    {
      "type": "api_key",
      "id": "key_12345"
    }
  ],
  "confirm": true
}
```

### Response

```json
{
  "object": "bulk_delete",
  "results": [
    {
      "type": "deployment",
      "id": "dep_12345",
      "deleted": true
    },
    {
      "type": "file",
      "id": "file-12345",
      "deleted": true
    },
    {
      "type": "api_key",
      "id": "key_12345",
      "deleted": false,
      "error": "Insufficient permissions"
    }
  ],
  "summary": {
    "requested": 3,
    "deleted": 2,
    "failed": 1
  }
}
```

## Error Handling

DELETE operations may return these specific errors:

```json
{
  "error": {
    "message": "Resource is in use and cannot be deleted",
    "type": "resource_locked",
    "code": "delete_failed"
  }
}
```

Common error scenarios:

- `409 Conflict` - Resource is in use
- `403 Forbidden` - Insufficient permissions
- `404 Not Found` - Resource doesn't exist
- `400 Bad Request` - Invalid delete operation

## Best Practices

1. **Check dependencies** before deleting resources
2. **Use force delete** sparingly and only when necessary
3. **Implement confirmation** in your UI for destructive operations
4. **Log deletions** for audit purposes
5. **Handle errors gracefully** - some deletes may fail

## Cleanup Strategies

### Automated Cleanup Script

```python
import requests
from datetime import datetime, timedelta

def cleanup_old_resources(api_key, days_old=30):
    """Delete resources older than specified days."""
    
    base_url = "https://api.your-domain.com/v1"
    headers = {"Authorization": f"Bearer {api_key}"}
    
    cutoff_date = datetime.now() - timedelta(days=days_old)
    
    # Clean up old files
    files = requests.get(f"{base_url}/files", headers=headers).json()
    for file in files['data']:
        if datetime.fromtimestamp(file['created_at']) < cutoff_date:
            requests.delete(f"{base_url}/files/{file['id']}", headers=headers)
            print(f"Deleted file: {file['id']}")
    
    # Clean up failed deployments
    deployments = requests.get(
        f"{base_url}/deployments?status=failed", 
        headers=headers
    ).json()
    
    for deployment in deployments['data']:
        requests.delete(
            f"{base_url}/deployments/{deployment['id']}", 
            headers=headers
        )
        print(f"Deleted failed deployment: {deployment['id']}")

# Usage
cleanup_old_resources("YOUR_ADMIN_KEY", days_old=30)
```

For webhook configuration, see [Webhook Endpoints](/api-reference/endpoint/webhook).
keys:
  # people
  - &admin_sinan age1q5sfy74d53n6jxlgsc2zrsz4wcl9d830nxuagc3wfmdkrrp55ckq9ev6nv
  - &admin_ditto age18xn7rqxu27kschgqs7u5x7af9evnpcp4sru34th6zhhwlwnwycpsajeeh9
  - &admin_adarsh age1ueu6gg5sgnvlnyk0u8zfyvpgrgja3g0xxdp9whegwk5rqlu42gjsveqrjj
  - &admin_varun age1evyhf8qvcvftzhrznv65a6shag2r05wnzmfkfaad5l66ztztv4qsh7f23k
  # machines
  - &server_github_runner age1ueq3k22vcfet3y0uqu7wu385wd0pwx5nslqp2z30v4e3zf9stpesx7wjxr
  - &server_budk8s_primary age138ut93gvvwkaudl3wxtwn8z9e50ptuhe2yukg6vhwcgncxpplpsqtmhp7t
  - &server_budk8s_ingress age1v9papxpyyccg3esyzjsd7h0nwje0vry9ns29mh4njmlgylmyedzqr6a9gd
  - &server_budk8s_worker age1ylsx7l8sf9tq58seyt82lswf7fue9c90yh04y9336swr42kav3escltxrk

creation_rules:
  # server_budk8s_primary
  - path_regex: (infra/nixos/primary-dev|infra/helm|infra/tofu)/.*
    key_groups:
      - age:
          - *admin_sinan
          - *admin_ditto
          - *admin_adarsh
          - *admin_varun
          - *server_budk8s_primary

  # server_dev_k3s
  - path_regex: infra/nixos/dev/modules/k3s/secrets.yaml
    key_groups:
      - age:
          - *admin_sinan
          - *admin_ditto
          - *admin_adarsh
          - *admin_varun
          - *server_budk8s_primary
          - *server_budk8s_ingress
          - *server_budk8s_worker

  # server_dev_headscale
  - path_regex: infra/nixos/dev/modules/headscale/secrets.yaml
    key_groups:
      - age:
          - *admin_sinan
          - *server_budk8s_primary
          - *server_budk8s_ingress
          - *server_budk8s_worker

  # server_github_runner
  - path_regex: nix/workflows/dockerhub_budcustomer/secrets.yaml
    key_groups:
      - age:
          - *admin_sinan
          - *admin_ditto
          - *admin_adarsh
          - *admin_varun
          - *server_github_runner

  # default
  - key_groups:
      - age:
          - *admin_sinan
          - *admin_ditto
          - *admin_adarsh
          - *admin_varun

services:
  mongodb:
    image: mongo
    container_name: bud-mf-$NAMESPACE-mongodb
    restart: unless-stopped
    logging:
      driver: 'json-file'
      options:
        max-size: '50m'
        max-file: '5'
    environment:
      - PUID=1000
      - PGID=1000
      - MONGO_INITDB_ROOT_USERNAME=${MONGO_INITDB_ROOT_USERNAME}
      - MONGO_INITDB_ROOT_PASSWORD=${MONGO_INITDB_ROOT_PASSWORD}
    volumes:
      - mongodb:/data/db
    ports:
      - 27017:27017
    networks:
      - bud-microframe-nw

volumes:
  mongodb: ~

networks:
  bud-microframe-nw:
    name: bud-microframe-$NAMESPACE

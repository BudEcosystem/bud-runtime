# Service Configuration
SERVICE_NAME=budpipeline
SERVICE_PORT=8010
LOG_LEVEL=INFO
DEBUG=false

# Dapr Configuration
DAPR_HTTP_PORT=3510
DAPR_GRPC_PORT=50010
DAPR_API_TOKEN=
APP_API_TOKEN=

# State Store
STATE_STORE_NAME=statestore

# Pub/Sub
PUBSUB_NAME=pubsub
NOTIFY_SERVICE_TOPIC=notificationMessages

# Service Discovery (Dapr App IDs)
BUDAPP_APP_ID=budapp
BUDCLUSTER_APP_ID=budcluster
BUDMODEL_APP_ID=budmodel
BUDSIM_APP_ID=budsim
BUDNOTIFY_APP_ID=budnotify
BUDMETRICS_APP_ID=budmetrics

# Pipeline Settings
PIPELINE_DEFAULT_TIMEOUT=7200
PIPELINE_MAX_PARALLEL_STEPS=10
STEP_DEFAULT_TIMEOUT=300

# Retry Settings
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_SECONDS=60
RETRY_BACKOFF_MULTIPLIER=2.0
RETRY_MAX_BACKOFF_SECONDS=3600

# Scheduler Settings
SCHEDULER_POLL_INTERVAL=60
SCHEDULER_MAX_CONCURRENT_JOBS=100

# K8s Job Settings
K8S_JOB_DEFAULT_NAMESPACE=bud-jobs
K8S_JOB_TTL_AFTER_FINISHED=86400

# Monitoring
METRICS_ENABLED=true
LOG_STREAMING_ENABLED=true

# PostgreSQL Database Configuration (002-pipeline-event-persistence)
# Uses budmicroframe pattern with individual connection parameters
PSQL_HOST=localhost
PSQL_PORT=5432
PSQL_USER=budpipeline
PSQL_PASSWORD=budpipeline_dev
PSQL_DB_NAME=budpipeline

# Pipeline Persistence & Retention
PIPELINE_RETENTION_DAYS=30
PIPELINE_CLEANUP_SCHEDULE=0 3 * * *

# Resilience Settings
DB_RETRY_MAX_ATTEMPTS=3
DB_RETRY_EXPONENTIAL_BASE=2.0
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
